!function(e,t,r){"use strict";function n(e){this.message=e,this.name="ISTrackerPixelException"}function i(){i.trackers=i.trackers||{},i.methods=i.methods||{create:a,use:o,send:c};var e=arguments[0];if(!(e in i.methods))throw new n("Method '"+e+"' not exists!");var t=i.methods[e];t.apply(t,arguments)}function a(){if(arguments.length<2)throw new n("Not enough arguments!");var e=arguments[1],t=arguments[2]||"";t.length>0&&(i.trackers[t]=e),i.currentTracker=e}function o(){if(arguments.length<2)throw new n("Not enough arguments!");var e=arguments[1];if(!(e in i.trackers))throw new n("Tracker with alias '"+e+"' not exists!");i.currentTracker=i.trackers[e]}function c(){if(arguments.length<3)throw new n("Not enough arguments!");var e=arguments[1],r=arguments[2];if("string"!=typeof r&&!(r instanceof String))try{r=JSON.stringify(r)}catch(e){throw new n("Data is invalid - can't be stringified")}var a=t.createElement("iframe");a.src=i.currentTracker+"?stream="+encodeURIComponent(e)+"&data="+encodeURIComponent(r),a.height="0px",a.width="0px",t.body.appendChild(a)}var s=e;if(s.ISTrackerPixel&&s.ISTrackerPixel.q){var h=s.ISTrackerPixel.q;if(h.length>0){console.log("Flush queued events!");for(var u in h)i.apply(i,h[u])}}s.ISTrackerPixel=i}(window,document);