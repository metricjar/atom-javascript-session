!function(e,t,r){"use strict";function n(){return!!e.ISTrackerPixel&&"undefined"!=typeof e.ISTrackerPixel.trackers}function i(e){this.message=e,this.name="ISTrackerPixelException"}function a(){a.trackers=a.trackers||{},a.methods=a.methods||{create:c,use:s,send:h,clear:o};var e=arguments[0];if(!(e in a.methods))throw new i("Method '"+e+"' not exists!");var t=a.methods[e];t.apply(t,arguments)}function o(){if(arguments.length<1)throw new i("Not enough arguments!");var e=arguments[1];e.length>0&&delete a.trackers[e]}function c(){if(arguments.length<2)throw new i("Not enough arguments!");var e=arguments[1],t=arguments[2]||"";t.length>0&&(a.trackers[t]=e),a.currentTracker=e}function s(){if(arguments.length<2)throw new i("Not enough arguments!");var e=arguments[1];if(!(e in a.trackers))throw new i("Tracker with alias '"+e+"' not exists!");a.currentTracker=a.trackers[e]}function h(){if(arguments.length<3)throw new i("Not enough arguments!");var e=arguments[1],r=arguments[2];if("string"!=typeof r&&!(r instanceof String))try{r=JSON.stringify(r)}catch(e){throw new i("Data is invalid - can't be stringified")}var n=t.createElement("iframe");return n.src=a.currentTracker+"?stream="+encodeURIComponent(e)+"&data="+encodeURIComponent(r),n.height="0px",n.width="0px",n.style.display="none",t.body.appendChild(n),n}if(!n()){var u=e;if(u.ISTrackerPixel&&u.ISTrackerPixel.q){var f=u.ISTrackerPixel.q;f.length>0&&f.forEach(function(e){a.apply(a,e)})}u.ISTrackerPixel=a}"undefined"!=typeof module&&module.exports&&(module.exports={TrackerPixel:a})}(window,document);