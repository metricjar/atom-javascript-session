!function(e,t,r){"use strict";function n(){return"undefined"!=typeof e.ISTrackerPixel.trackers}function i(e){this.message=e,this.name="ISTrackerPixelException"}function a(){a.trackers=a.trackers||{},a.methods=a.methods||{create:o,use:c,send:s};var e=arguments[0];if(!(e in a.methods))throw new i("Method '"+e+"' not exists!");var t=a.methods[e];t.apply(t,arguments)}function o(){if(arguments.length<2)throw new i("Not enough arguments!");var e=arguments[1],t=arguments[2]||"";t.length>0&&(a.trackers[t]=e),a.currentTracker=e}function c(){if(arguments.length<2)throw new i("Not enough arguments!");var e=arguments[1];if(!(e in a.trackers))throw new i("Tracker with alias '"+e+"' not exists!");a.currentTracker=a.trackers[e]}function s(){if(arguments.length<3)throw new i("Not enough arguments!");var e=arguments[1],r=arguments[2];if("string"!=typeof r&&!(r instanceof String))try{r=JSON.stringify(r)}catch(e){throw new i("Data is invalid - can't be stringified")}var n=t.createElement("iframe");n.src=a.currentTracker+"?stream="+encodeURIComponent(e)+"&data="+encodeURIComponent(r),n.height="0px",n.width="0px",t.body.appendChild(n)}if(!n()){var h=e;if(h.ISTrackerPixel&&h.ISTrackerPixel.q){var f=h.ISTrackerPixel.q;if(f.length>0){console.log("Flush queued events!");for(var u in f)a.apply(a,f[u])}}h.ISTrackerPixel=a}}(window,document);