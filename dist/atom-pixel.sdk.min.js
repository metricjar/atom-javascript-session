!function(e,t,r){"use strict";function n(){return!!e.ISTrackerPixel&&"undefined"!=typeof e.ISTrackerPixel.trackers}function i(e){this.message=e,this.name="ISTrackerPixelException"}function o(){o.trackers=o.trackers||{},o.methods=o.methods||{create:c,use:s,send:h,clear:a};var e=arguments[0];if(!(e in o.methods))throw new i("Method '"+e+"' not exists!");var t=o.methods[e];t.apply(t,arguments)}function a(){if(arguments.length<1)throw new i("Not enough arguments!");var e=arguments[1];e.length>0&&delete o.trackers[e]}function c(){if(arguments.length<2)throw new i("Not enough arguments!");var e=arguments[1],t=arguments[2]||"";t.length>0&&(o.trackers[t]=e),o.currentTracker=e}function s(){if(arguments.length<2)throw new i("Not enough arguments!");var e=arguments[1];if(!(e in o.trackers))throw new i("Tracker with alias '"+e+"' not exists!");o.currentTracker=o.trackers[e]}function h(){if(arguments.length<3)throw new i("Not enough arguments!");var e=arguments[1],r=arguments[2];if("string"!=typeof r&&!(r instanceof String))try{r=JSON.stringify(r)}catch(e){throw new i("Data is invalid - can't be stringified")}var n=t.createElement("iframe");return n.src=o.currentTracker+"?stream="+encodeURIComponent(e)+"&data="+encodeURIComponent(r),n.height="0px",n.width="0px",n.style.display="none",t.body.appendChild(n),n}if(!n()){var l=e;if(l.ISTrackerPixel&&l.ISTrackerPixel.q){var u=l.ISTrackerPixel.q;u.length>0&&u.forEach(function(e){console.log(e),o.apply(o,e)})}l.ISTrackerPixel=o}"undefined"!=typeof module&&module.exports&&(module.exports={TrackerPixel:o})}(window,document);