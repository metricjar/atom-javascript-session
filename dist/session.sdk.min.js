!function(t,e,r){"use strict";function s(t){for(var e=t?t:32,r="",s=0;s<e;s++)switch(s){case 8:case 20:r+=(16*Math.random()|0).toString(16);break;case 16:r+=(4*Math.random()|8).toString(16);break;default:r+=(16*Math.random()|0).toString(16)}return r}function o(t,e,r){r&&console.log(t+": "+e)}function _(t){this.TAG_="IronSourceAtomSession",this.STORAGE_PREFIX_="ATOM_SESSION_",this.SESSION_KEY_="SESSION_ID",this.SESSION_KEY_CREATE_="SESSION_START_TIME",t=t||{},this.userID_=t.userID,this.isDebug_=t.debug,this.tracker_=new IronSourceAtom.Tracker(t),this.sessionLifeTime_=t.sessionLifeTime?t.sessionLifeTime:18e5,this.userID_&&(o(this.TAG_,"User added: "+this.userID_,this.isDebug_),localStorage.setItem(this.STORAGE_PREFIX_+this.USER_KEY_,this.userID_))}t.IronSourceAtomSession=_,_.prototype.track=function(t,e){function r(){function t(){return e=s(),localStorage.setItem(S.STORAGE_PREFIX_+S.SESSION_KEY_,e),localStorage.setItem(S.STORAGE_PREFIX_+S.SESSION_KEY_CREATE_,_),o(S.TAG_,"Session ID updated: "+e,S.isDebug_),e}var e=localStorage.getItem(S.STORAGE_PREFIX_+S.SESSION_KEY_),r=localStorage.getItem(S.STORAGE_PREFIX_+S.SESSION_KEY_CREATE_),_=Date.now();return e?_-r>=S.sessionLifeTime_?t():(localStorage.setItem(S.STORAGE_PREFIX_+S.SESSION_KEY_CREATE_,_),e):t()}function _(){var t=localStorage.getItem(S.STORAGE_PREFIX_+S.USER_KEY_);return t||(t=s(),localStorage.setItem(S.STORAGE_PREFIX_+S.USER_KEY_,t)),t}var S=this,i={};if("string"==typeof e||e instanceof String)try{i=JSON.parse(e)}catch(t){throw new Error("Invalid JSON String - can't be converted to Object",t)}else i=e;i.sessionID=r(),i.userID=S.userID_?S.userID_:_(),o(S.TAG_,"Added data to tracker: "+JSON.stringify(i),S.isDebug_),S.tracker_.track(t,e)},_.prototype.flush=function(t,e){this.tracker_.flush(t,e)}}(window,document);